<!-- view_contact.html -->

{% extends 'base.html' %}

{% block content %}
  <h2>Contact with {{ conversation.other_user.username }}</h2>
  
  <div>
    {% for message in conversation.messages %}
      {% if message.sender_id == current_user.id %}
        <p><strong>You:</strong> {{ message.content }}</p>
      {% else %}
        <p><strong>{{ conversation.other_user.username }}:</strong> {{ message.content }}</p>
      {% endif %}
    {% endfor %}
  </div>

  <form method="POST" action="{{ url_for('view_contact', other_user_id=conversation.other_user.id) }}">
    <label for="message_content">New Message:</label>
    <input type="text" name="message_content" required>
    <button type="submit">Send</button>
  </form>
  
  <a href="{{ url_for('contact') }}">Back to Contact List</a>
{% endblock %}
